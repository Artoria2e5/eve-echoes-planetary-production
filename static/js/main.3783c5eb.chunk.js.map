{"version":3,"sources":["data/columns.js","data/query.js","components/common/form/Autocomplete.js","components/common/form/SelectWithChips.js","components/common/form/Slider.js","components/common/table/Table.js","components/planetaryProduction/PlanetaryProductionPage.js","components/planetaryProduction/renderSystemCells.js","App.js","serviceWorker.js","index.js"],"names":["COL","Region","Constellation","System","Security","Neighbors","Planets","Planet","PlanetType","Resources","Resource","Richness","Output","AbsRich","systems","data","calculatePaths","from","maxJumps","start","performance","now","queue","max","jumps","push","console","log","c","length","node","shift","system","next","end","matchingProduction","range","security","richness","resourceList","inRange","minRange","maxRange","minSecurity","maxSecurity","sys","parseInt","systemsWithinRange","minRich","maxRich","matches","id","planets","planet","resources","resource","includes","absRich","Autocomplete","label","limit","rest","Grid","item","xs","md","lg","filterOptions","createFilterOptions","renderInput","params","TextField","variant","defaultProps","renderValue","values","container","spacing","map","value","key","Chip","SelectWithChips","onChange","options","labelId","FormControl","fullWidth","InputLabel","Select","displayEmpty","multiple","event","target","option","MenuItem","Slider","valueLabelDisplay","DataTable","cells","title","useState","direction","setDirection","accessor","undefined","orderBy","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","sortedData","useMemo","sort","a","b","modifier","Typography","gutterBottom","Paper","TableContainer","Table","TableHead","TableRow","onChangeSort","cell","index","sortable","active","TableCell","sortDirection","TableSortLabel","onClick","header","renderHeaders","TableBody","startIndex","endIndex","slice","row","rowIndex","cellIndex","attribute","display","style","width","renderRows","TablePagination","component","count","onChangePage","onChangeRowsPerPage","newRowsPerPage","rowsPerPageOptions","usePersistedState","defaultValue","React","JSON","parse","localStorage","getItem","state","setState","useEffect","setItem","stringify","PlanetaryProductionPage","baseSystem","setBaseSystem","distanceRange","setDistanceRange","securityRange","setSecurityRange","richnessRange","setRichnessRange","setResources","distanceMax","resourceNames","Object","keys","maxOutput","s","region","constellation","query","distanceMarks","marks","Array","Math","round","getOptionLabel","min","step","theme","createMuiTheme","palette","type","App","ThemeProvider","CssBaseline","Container","maxWidth","marginTop","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3783c5eb.chunk.js","sourcesContent":["const COL = {\n    Region: 0,\n    Constellation: 1,\n    System: 2,\n    Security: 3,\n    Neighbors: 4,\n    Planets: 5,\n\n    Planet: 0,\n    PlanetType: 1,\n    Resources: 2,\n\n    Resource: 0,\n    Richness: 1,\n    Output: 2,\n    AbsRich: 3\n};\n\nexport default COL;\n","import data from './data.json';\nimport c from './columns.js';\n\nlet systems = data.data;\n\nfunction calculatePaths(from, maxJumps) {\n    let start = performance.now();\n    let queue = [];\n    let max = 0;\n    let jumps = {[from]: 0};\n    queue.push(from);\n    console.log(\"Neighbors\", c);\n    while (queue.length > 0) {\n        let node = queue.shift();\n        if (maxJumps && jumps[node] === maxJumps) continue;\n        let system = systems[node];\n        //console.log(node, system);\n        for (let next of system[c.Neighbors]) {\n            if (!(next in jumps)) {\n                max = jumps[next] = jumps[node] + 1;\n                queue.push(next);\n            }\n        }\n    }\n    let end = performance.now();\n    console.log(jumps);\n    console.log(max);\n    console.log(`calculatePaths time: ${end - start} ms`);\n    return [jumps, max];\n}\n\nexport function longestPath(from) {\n    return calculatePaths(from)[1];\n}\n\nexport function systemsWithinRange(from, range, security) {\n    let [minRange, maxRange] = range;\n    let [minSecurity, maxSecurity] = security;\n    if (!minRange) minRange = 0;\n    let [jumps] = calculatePaths(from, maxRange);\n    let sys = [];\n    for (let system in jumps) {\n        if (jumps[system] >= minRange &&\n            systems[system][c.Security] >= minSecurity &&\n            systems[system][c.Security] <= maxSecurity\n            )\n            sys.push({system: parseInt(system), jumps: jumps[system]});\n    }\n    return sys;\n}\n\nexport function matchingProduction(from, range, security, richness, resourceList) {\n    let inRange = systemsWithinRange(from, range, security);\n    let [minRich, maxRich] = richness;\n    let matches = [];\n    for (let {system: id, jumps} of inRange) {\n        let system = systems[id];\n        let planets = system[c.Planets];\n        for (let planet of planets) {\n            let resources = planet[c.Resources];\n            for (let resource of resources) {\n                if (!resourceList.includes(resource[c.Resource]))\n                    continue;\n                let absRich = resource[c.AbsRich];\n                if (absRich >= minRich && absRich <= maxRich) {\n                    matches.push({\n                        resource: resource[c.Resource],\n                        planet: planet[c.Planet],\n                        security: system[c.Security],\n                        jumps,\n                        richness: absRich\n                    });\n                }\n            }\n        }\n    }\n    return matches;\n}\n\nexport function getSystems() {\n    return systems.map(s => (\n        {\n            label: `${s[c.Region]} > ${s[c.Constellation]} > ${s[c.System]}`,\n            region: s[c.Region],\n            constellation: s[c.Constellation],\n            system: s[c.System],\n            security: s[c.Security]\n        }\n    ));\n}\n\nexport function getResources() {\n    return Object.keys(data.maxOutput);\n}\n\nexport function getResourceMaxOutput() {\n    let maxOutput = {}\n    for (let i = 0; i < data.resources.length; i++)\n        maxOutput[data.resources[i]] = data.maxOutput[i];\n    return maxOutput;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIAutocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { Grid, TextField } from '@material-ui/core';\n\nfunction Autocomplete({ label, limit, ...rest }) {\n  return (\n    <Grid item xs={12} md={6} lg={4}>\n      <MUIAutocomplete\n        {...rest}\n        filterOptions={createFilterOptions({limit})}\n        renderInput={(params) => <TextField {...params} label={label} variant=\"outlined\" />}\n      />\n    </Grid>\n  );\n}\n\nAutocomplete.defaultProps = {\n  limit: 100,\n};\n\nAutocomplete.propTypes = {\n  getOptionLabel: PropTypes.func.isRequired,\n  label: PropTypes.string.isRequired,\n  limit: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n};\n\nexport default Autocomplete;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Chip,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\n\nfunction renderValue(values) {\n  return (\n    <Grid container spacing={1}>\n      {values.map((value) => (\n        <Grid item key={value}>\n          <Chip label={value} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n\nfunction SelectWithChips({ id, label, onChange, options, ...rest }) {\n  const labelId = `${id}-label`;\n\n  return (\n    <Grid item xs={12} md={6} lg={4}>\n      <FormControl fullWidth>\n        <InputLabel id={labelId}>{label}</InputLabel>\n        <Select\n          {...rest}\n          displayEmpty\n          id={id}\n          labelId={labelId}\n          multiple\n          onChange={(event) => onChange(event, event.target.value)}\n          renderValue={renderValue}\n        >\n          {options.map((option) => (\n            <MenuItem\n              key={option}\n              value={option}\n            >\n              {option}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </Grid>\n  );\n}\n\nSelectWithChips.propTypes = {\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nexport default SelectWithChips;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Grid,\n  InputLabel,\n  Slider as MUISlider,\n} from '@material-ui/core';\n\nfunction Slider({ label, ...rest }) {\n  return (\n    <Grid item xs={12} md={6} lg={4}>\n      <InputLabel>{label}</InputLabel>\n      <MUISlider {...rest} />\n    </Grid>\n  );\n}\n\nSlider.defaultProps = {\n  valueLabelDisplay: 'auto',\n};\n\nSlider.propTypes = {\n  label: PropTypes.string,\n  marks: PropTypes.array,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n  step: PropTypes.number,\n  value: PropTypes.any.isRequired,\n  valueLabelDisplay: PropTypes.string,\n};\n\nexport default Slider;\n","import React, { useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Grid,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TableSortLabel,\n  Typography,\n} from '@material-ui/core';\n\nfunction renderHeaders({ cells, data, direction, onChangeSort, orderBy }) {\n  return cells.map((cell, index) => {\n    if (cell.sortable) {\n      const active = orderBy === cell.accessor;\n      return (\n        <TableCell\n          key={cell.accessor}\n          sortDirection={active ? direction : false}\n        >\n          <TableSortLabel\n            active={active}\n            direction={active ? direction : 'asc'}\n            onClick={() => onChangeSort(cell.accessor, active ? (direction === 'asc' ? 'desc' : 'asc') : 'asc')}\n          >\n            {cell.header}\n          </TableSortLabel>\n        </TableCell>\n      );\n    } else {\n      return <TableCell key={index}>{cell.header}</TableCell>;\n    }\n  });\n}\n\nfunction renderRows({ cells, data, page, rowsPerPage }) {\n  const startIndex = page * rowsPerPage;\n  const endIndex = startIndex + rowsPerPage;\n  return data.slice(startIndex, endIndex).map((row, rowIndex) => (\n    <TableRow key={rowIndex}>\n      {cells.map((cell, cellIndex) => {\n        const attribute = row[cell.accessor];\n        const display = cell.display ? cell.display(attribute) : attribute;\n\n        const style = {};\n        if (cell.width) style.width = cell.width;\n\n        return (\n          <TableCell\n            key={cellIndex}\n            style={style}\n          >\n            {display}\n          </TableCell>\n        );\n      })}\n    </TableRow>\n  ));\n}\n\nfunction DataTable({ cells, data, title }) {\n  const [direction, setDirection] = useState('asc');\n  const [orderBy, setOrderBy] = useState(cells.length ? cells[0].accessor : undefined);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n\n  const sortedData = useMemo(() => {\n    return [...data].sort((a, b) => {\n      const modifier = direction === 'asc' ? 1 : -1;\n      if (a[orderBy] === b[orderBy]) {\n        return 0;\n      } else {\n        return a[orderBy] > b[orderBy] ? 1 * modifier : -1 * modifier;\n      }\n    });\n  }, [data, direction, orderBy]);\n\n  function handleChangeRowsPerPage(event) {\n    const startIndex = page * rowsPerPage;\n    const newRowsPerPage = event.target.value;\n    const newPage = startIndex / newRowsPerPage;\n    setPage(newPage);\n    setRowsPerPage(newRowsPerPage);\n  }\n\n  function handleChangeSort(orderBy, direction) {\n    setOrderBy(orderBy);\n    setDirection(direction);\n  }\n\n  return (\n    <Grid item xs={12}>\n      <Typography variant=\"h6\" gutterBottom>{title}</Typography>\n      <Paper>\n        <TableContainer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                {renderHeaders({\n                  cells,\n                  data: sortedData,\n                  direction,\n                  onChangeSort: handleChangeSort,\n                  orderBy\n                })}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {renderRows({\n                cells,\n                data: sortedData,\n                page,\n                rowsPerPage\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n          <TablePagination\n            component=\"div\"\n            count={data.length}\n            onChangePage={(event, value) => setPage(value)}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n      </Paper>\n    </Grid>\n  );\n}\n\nDataTable.defaultProps = {\n  cells: [],\n  data: [],\n};\n\nDataTable.propTypes = {\n  cells: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n};\n\nexport default DataTable;","import React, { useMemo, useEffect } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nimport * as query from '../../data/query';\nimport {\n  Autocomplete,\n  SelectWithChips,\n  Slider,\n} from '../common/form';\nimport { Table } from '../common/table';\nimport renderSystemCells from './renderSystemCells';\n\nfunction usePersistedState(key, defaultValue) {\n  const [state, setState] = React.useState(\n    () => JSON.parse(localStorage.getItem(key)) || defaultValue\n  );\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\nfunction PlanetaryProductionPage() {\n  const [baseSystem, setBaseSystem] = usePersistedState(\"baseSystem\", 0);\n  const [distanceRange, setDistanceRange] = usePersistedState(\"distanceRange\", [0, 10]);\n  const [securityRange, setSecurityRange] = usePersistedState(\"securityRange\", [0.5, 1.0]);\n  const [richnessRange, setRichnessRange] = usePersistedState(\"richnessRange\", [90, 200]);\n  const [resources, setResources] = usePersistedState(\"resources\", [\"Lustering Alloy\"]);\n  console.log(baseSystem, distanceRange, securityRange, richnessRange, resources);\n  \n  const distanceMax = useMemo(() => query.longestPath(baseSystem), [baseSystem]);\n  const resourceNames = useMemo(() => query.getResources(), []);\n  const systems = useMemo(() => query.getSystems(), []);\n\n  const matches = useMemo(() => {\n    return query.matchingProduction(baseSystem, distanceRange, securityRange, richnessRange, resources);\n  }, [baseSystem, distanceRange, securityRange, resources, richnessRange]);\n\n  const distanceMarks = useMemo(() => {\n    const marks = [...Array(Math.round(distanceMax / 10)).keys()].map((value) => ({ value: value * 10, label: value * 10 }));\n    if (marks[-1] !== distanceMax) {\n      marks.push({ value: distanceMax, label: distanceMax });\n    }\n    return marks;\n  }, [distanceMax]);\n\n  return (\n    <Grid container spacing={4}>\n\n      <Grid item xs={12} md={12} lg={12}>\n        <Typography variant=\"h4\" width={1}>EVE Echoes</Typography>\n        <Typography variant=\"h5\" width={1}>Planetary Production</Typography>\n      </Grid>\n\n      <Autocomplete\n        getOptionLabel={(option) => systems[option].label}\n        label=\"Base System\"\n        onChange={(event, value) => setBaseSystem(value)}\n        options={systems.map((system, index) => index)}\n        value={baseSystem}\n      />\n\n      <Slider\n        label=\"Distance to System (jumps)\"\n        marks={distanceMarks}\n        max={distanceMax}\n        min={0}\n        onChange={(event, value) => setDistanceRange(value)}\n        step={1}\n        value={distanceRange}\n      />\n\n      <Slider\n        label=\"System Security\"\n        marks={[{ value:-1.0, label: '-1.0' }, { value: 0, label: '0.0' }, { value:0.5, label:'0.5' }, { value:1, label: '1.0' }]}\n        max={1.0}\n        min={-1.0}\n        onChange={(event, value) => setSecurityRange(value)}\n        step={0.1}\n        value={securityRange}\n      />\n\n      <SelectWithChips\n        id=\"resources\"\n        label=\"Resource Types\"\n        onChange={(event, value) => setResources(value)}\n        options={resourceNames}\n        value={resources}\n      />\n\n      <Slider\n        label=\"Resource Richness\"\n        marks={[{ value:25, label: '25' }, { value: 100, label: 'high sec' }, { value:133, label:'low sec' }, { value:200, label: '200' }]}\n        max={200}\n        min={25}\n        onChange={(event, value) => setRichnessRange(value)}\n        step={1}\n        value={richnessRange}\n      />\n\n      <Table\n        cells={renderSystemCells()}\n        data={matches}\n        title=\"Systems\"\n      />\n\n    </Grid>\n  );\n}\n\nexport default PlanetaryProductionPage;\n","export default function renderSystemCells() {\n  return [\n    // render pattern:\n    // {\n    //   accessor: 'attributeName' // specify attribute\n    //   display: (data) => `${data}`, // optional: specify cell's display\n    //   header: 'Header Name', // specify column header,\n    //   sortable: true, // optional; boolean\n    //   width: 100, // optional: specify column width (integers are in px)\n    // },\n    {\n      accessor: 'resource',\n      header: 'Resource',\n      sortable: true,\n      width: '29%',\n    },\n    {\n      accessor: 'planet',\n      header: 'Planet',\n      sortable: true,\n      width: '29%',\n    },\n    {\n      accessor: 'security',\n      header: 'Security',\n      sortable: true,\n      width: '14%',\n    },\n    {\n      accessor: 'jumps',\n      header: 'Jumps',\n      sortable: true,\n      width: '14%',\n    },\n    {\n      accessor: 'richness',\n      header: 'Richness',\n      sortable: true,\n      width: '14%',\n    },\n  ];\n}","import React from 'react';\nimport { Container, CssBaseline } from '@material-ui/core';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport PlanetaryProductionPage from './components/planetaryProduction/PlanetaryProductionPage';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Container maxWidth=\"lg\" style={{ marginTop: 16 }}>\n        <PlanetaryProductionPage />\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}