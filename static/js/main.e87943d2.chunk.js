(this["webpackJsonpeve-echoes-planetary-production"]=this["webpackJsonpeve-echoes-planetary-production"]||[]).push([[0],{100:function(e,t,a){e.exports=a(117)},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(176),i=a(177),u=a(87),s=a(175),m=a(37),b=a(19),d=a(170),h=a(153),f=a(174),g=a(69);function p(e,t){var a=Object(n.useState)((function(){return JSON.parse(localStorage.getItem(e))||t})),r=Object(b.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(l))}),[e,l]),[l,c]}var v=a(31),y=a(180),E=a(159),O=a(183);function j(e){var t=e.label,a=e.limit,n=Object(v.a)(e,["label","limit"]);return r.a.createElement(h.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(y.a,Object.assign({},n,{filterOptions:Object(E.a)({limit:a}),renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{label:t,variant:"outlined"}))}})))}j.defaultProps={limit:100};var w=j,C=a(182),x=a(163),k=a(185),R=a(178),S=a(186);function P(e){return r.a.createElement(h.a,{container:!0,spacing:1},e.map((function(e){return r.a.createElement(h.a,{item:!0,key:e},r.a.createElement(C.a,{label:e}))})))}var K=function(e){var t=e.id,a=e.label,n=e.onChange,l=e.options,c=Object(v.a)(e,["id","label","onChange","options"]),o="".concat(t,"-label");return r.a.createElement(h.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(x.a,{fullWidth:!0},r.a.createElement(k.a,{id:o},a),r.a.createElement(R.a,Object.assign({},c,{displayEmpty:!0,id:t,labelId:o,multiple:!0,onChange:function(e){return n(e,e.target.value)},renderValue:P}),l.map((function(e){return r.a.createElement(S.a,{key:e,value:e},e)})))))},N=a(187);function I(e){var t=e.label,a=Object(v.a)(e,["label"]);return r.a.createElement(h.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(k.a,null,t),r.a.createElement(N.a,a))}I.defaultProps={valueLabelDisplay:"auto"};var T=I,H=a(164),B=a(188),J=a(165),M=a(166),W=a(167),D=a(168),L=a(169),_=a(181);function A(e){var t=e.columns,a=e.data,l=Object(n.useState)("asc"),c=Object(b.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(t.length?t[0].dataKey:void 0),s=Object(b.a)(u,2),d=s[0],f=s[1],g=Object(n.useState)(0),p=Object(b.a)(g,2),v=p[0],y=p[1],E=Object(n.useState)(5),O=Object(b.a)(E,2),j=O[0],w=O[1],C=Object(n.useMemo)((function(){return Object(m.a)(a).sort((function(e,t){var a="asc"===o?1:-1;return e[d]===t[d]?0:e[d]>t[d]?1*a:-1*a}))}),[a,o,d]);return Object(n.useEffect)((function(){y(0)}),[a]),r.a.createElement(h.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(M.a,null,r.a.createElement(W.a,null,r.a.createElement(D.a,null,r.a.createElement(J.a,null,function(e){var t=e.columns,a=(e.data,e.direction),n=e.onChangeSort,l=e.orderBy;return t.map((function(e,t){if(e.sortable){var c=l===e.dataKey;return r.a.createElement(H.a,{align:e.numeric?"right":"left",key:e.dataKey,sortDirection:!!c&&a},r.a.createElement(B.a,{active:c,direction:c?a:"asc",onClick:function(){return n(e.dataKey,c&&"asc"===a?"desc":"asc")}},e.label))}return r.a.createElement(H.a,{key:t},e.label)}))}({columns:t,data:C,direction:o,onChangeSort:function(e,t){f(e),i(t)},orderBy:d}))),r.a.createElement(L.a,null,function(e){var t=e.columns,a=e.data,n=e.page,l=e.rowsPerPage,c=n*l,o=c+l;return a.slice(c,o).map((function(e,a){return r.a.createElement(J.a,{key:a},t.map((function(t,a){var n=e[t.dataKey],l=t.display?t.display(n):n,c={};return t.width&&(c.width=t.width),r.a.createElement(H.a,{align:t.numeric?"right":"left",key:a,style:c},l)})))}))}({columns:t,data:C,page:v,rowsPerPage:j})))),r.a.createElement(_.a,{component:"div",count:a.length,onChangePage:function(e,t){return y(t)},onChangeRowsPerPage:function(e){var t=v*j,a=e.target.value;y(t/a),w(a)},page:v,rowsPerPage:j,rowsPerPageOptions:[5,10,25]}))}A.defaultProps={columns:[],data:[]};var V=a(71),z=a(32),G=a(68),q=a(118),$=a(171),F=a(67),Q=a.n(F),U=Object(q.a)((function(e){return Object($.a)({flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},root:{height:"calc(100vh - (".concat(e.spacing(4),"px * 3))"),marginBottom:e.spacing(4)},table:{"& .ReactVirtualized__Table__headerRow":{flip:!1,paddingRight:"rtl"===e.direction?"0 !important":void 0}},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[800]}},tableCell:{flex:1},noClick:{cursor:"initial"}})}));function X(e){var t=e.columns,a=e.data,l=e.headerHeight,c=e.onRowClick,o=e.rowHeight,i=U(),u=Q()(i.tableCell,i.flexContainer,Object(z.a)({},i.noClick,null==c)),s=Object(n.useCallback)((function(e){var t=e.index;return Q()(i.tableRow,i.flexContainer,Object(z.a)({},i.tableRowHover,-1!==t&&null!=c))}),[i,c]),m=Object(n.useCallback)((function(e){var a=e.cellData,n=e.columnIndex;return r.a.createElement(H.a,{align:null!=n&&t[n].numeric?"right":"left",component:"div",className:u,style:{height:o},variant:"body"},a)}),[u,t,o]),b=Object(n.useCallback)((function(e){var a=e.columnIndex,n=e.label;Object(v.a)(e,["columnIndex","label"]);return r.a.createElement(H.a,{align:t[a].numeric?"right":"left",className:Q()(i.tableCell,i.flexContainer,i.noClick),component:"div",style:{height:l},variant:"head"},n)}),[i,t,l]);return r.a.createElement("div",{className:i.root},r.a.createElement(G.a,null,(function(e){var n=e.height,u=e.width;return r.a.createElement(G.c,{className:i.table,gridStyle:{direction:"inherit"},headerHeight:l,height:n,noRowsRenderer:function(){return r.a.createElement("div",null,"No results.")},rowClassName:s,rowCount:a.length,rowGetter:function(e){var t=e.index;return a[t]},rowHeight:o,width:u,style:{height:n},onRowClick:c},t.map((function(e,t){var a=e.dataKey,n=e.width,l=Object(v.a)(e,["dataKey","width"]);return r.a.createElement(G.b,Object.assign({cellRenderer:m,className:i.flexContainer,dataKey:a,headerRenderer:function(e){return b(Object(V.a)(Object(V.a)({},e),{},{columnIndex:t}))},key:a,width:Number.isInteger(n)?n:n*u},l))})))})))}X.defaultProps={columns:[],data:[],headerHeight:48,rowHeight:48};var Y=X,Z=a(157),ee=a(179),te=a(173),ae=a(172),ne=Object(ae.a)({root:{maxHeight:"100vh"},paper:{flexGrow:1}});function re(e){var t=e.children,a=e.tabs,n=p("currentTab",0),l=Object(b.a)(n,2),c=l[0],o=l[1],i=ne();return r.a.createElement(h.a,{className:i.root,item:!0,lg:12,md:12,xs:12},r.a.createElement(Z.a,{className:i.paper},r.a.createElement(ee.a,{centered:!0,onChange:function(e,t){return o(t)},value:c,variant:"fullWidth"},a.map((function(e,t){return r.a.createElement(te.a,{key:t,label:e.label})})))),t[c])}re.defaultProps={children:[],tabs:[]};function le(){return[{dataKey:"resource",label:"Resource",sortable:!0,width:.29},{dataKey:"planet",label:"Planet",sortable:!0,width:.29},{dataKey:"security",label:"Security",numeric:!0,sortable:!0,width:.14},{dataKey:"jumps",label:"Jumps",numeric:!0,sortable:!0,width:.14},{dataKey:"richness",label:"Richness",numeric:!0,sortable:!0,width:.14}]}function ce(){return[{dataKey:"totalRichness",label:"Total Richness",sortable:!0,width:.25},{dataKey:"roundTrip",label:"Round Trip",sortable:!0,width:.25},{dataKey:"planets",label:"Planets",sortable:!0,width:.25},{dataKey:"systems",label:"systems",sortable:!0,width:.25}]}var oe=g.b(new function(){return new Worker(a.p+"static/js/query.a67a65be.worker.js")});var ie=function(){console.log("render Planetary Production Page");var e=p("baseSystem",0),t=Object(b.a)(e,2),a=t[0],l=t[1],c=p("distanceRange",[0,10]),o=Object(b.a)(c,2),i=o[0],u=o[1],s=p("securityRange",[.5,1]),v=Object(b.a)(s,2),y=v[0],E=v[1],O=p("richnessRange",[90,200]),j=Object(b.a)(O,2),C=j[0],x=j[1],k=p("resources",["Lustering Alloy"]),R=Object(b.a)(k,2),S=R[0],P=R[1],N=p("planetology",1),I=Object(b.a)(N,2),H=I[0],B=I[1],J=Object(n.useState)([]),M=Object(b.a)(J,2),W=M[0],D=M[1],L=Object(n.useState)(!1),_=Object(b.a)(L,2),A=_[0],V=_[1],z=Object(n.useState)(65),G=Object(b.a)(z,2),q=G[0],$=G[1],F=Object(n.useState)(["Lustering Alloy"]),Q=Object(b.a)(F,2),U=Q[0],X=Q[1],Z=Object(n.useState)([]),ee=Object(b.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(b.a)(ne,2),ie=re[0],ue=re[1],se=Object(n.useState)([]),me=Object(b.a)(se,2),be=me[0],de=me[1];console.log(a,i,y,C,S),Object(n.useEffect)((function(){return oe.longestPath(a).then((function(e){return $(e)}))}),[a]),Object(n.useEffect)((function(){return oe.getResources().then((function(e){return X(e)}))}),[]),Object(n.useEffect)((function(){return oe.getSystems().then((function(e){return ae(e)}))}),[]),Object(n.useEffect)((function(){oe.matchingProduction(a,i,y,C,S).then((function(e){ue(e),de(e)}))}),[a,i,y,S,C]),Object(n.useEffect)((function(){oe.findBestMatches(ie,a,S,H,g.a(D),g.a(V))}),[ie,a,S,H]);var he=Object(n.useMemo)((function(){var e=Object(m.a)(Array(Math.round(q/10)).keys()).map((function(e){return{value:10*e,label:10*e}}));return e[-1]!==q&&e.push({value:q,label:q}),e}),[q]);return Object(n.useMemo)((function(){return[{Component:Y,data:W,label:"Overview",renderColumns:ce},{Component:Y,data:ie,label:"Systems",renderColumns:le}]}),[W,ie]),console.log("working",A),0===te.length?r.a.createElement(d.a,null,"Loading..."):r.a.createElement(h.a,{container:!0,spacing:4},r.a.createElement(h.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(d.a,{variant:"h4",width:1},"EVE Echoes"),r.a.createElement(d.a,{variant:"h5",width:1},"Planetary Production")),r.a.createElement(w,{getOptionLabel:function(e){return te[e].label},label:"Base System",onChange:function(e,t){return l(t)},options:te.map((function(e,t){return t})),value:a}),r.a.createElement(T,{label:"Distance to System (jumps)",marks:he,max:q,min:0,onChange:function(e,t){return u(t)},step:1,value:i}),r.a.createElement(T,{label:"System Security",marks:[{value:-1,label:"-1.0"},{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],max:1,min:-1,onChange:function(e,t){return E(t)},step:.1,value:y}),r.a.createElement(K,{id:"resources",label:"Resource Types",onChange:function(e,t){return P(t)},options:U,value:S}),r.a.createElement(T,{label:"Resource Richness",marks:[{value:25,label:"25"},{value:100,label:"high sec"},{value:133,label:"low sec"},{value:200,label:"200"}],max:200,min:25,onChange:function(e,t){return x(t)},step:1,value:C}),r.a.createElement(T,{label:"Planets (Planetology max development)",marks:[{value:1,label:"1"},{value:6,label:"6"}],max:6,min:1,onChange:function(e,t){return B(t)},step:1,value:H}),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{value:100,variant:A?"indeterminate":"determinate"})),r.a.createElement(h.a,{item:!0,xs:12,lg:6},r.a.createElement(Y,{data:W,columns:[{dataKey:"totalRichness",label:"Total Richness",sortable:!0,width:.25},{dataKey:"roundTrip",label:"Round Trip",sortable:!0,width:.25},{dataKey:"planets",label:"Planets",sortable:!0,width:.25},{dataKey:"systems",label:"systems",sortable:!0,width:.25}],onRowClick:function(e){var t=e.rowData;return de(t.matches)}})),r.a.createElement(h.a,{item:!0,xs:12,lg:6},r.a.createElement(Y,{data:be,columns:[{dataKey:"resource",label:"Resource",sortable:!0,width:.29},{dataKey:"planet",label:"Planet",sortable:!0,width:.29},{dataKey:"security",label:"Security",numeric:!0,sortable:!0,width:.14},{dataKey:"jumps",label:"Jumps",numeric:!0,sortable:!0,width:.14},{dataKey:"richness",label:"Richness",numeric:!0,sortable:!0,width:.14}]})))},ue=Object(u.a)({palette:{type:"dark"}});var se=function(){return r.a.createElement(s.a,{theme:ue},r.a.createElement(o.a,null),r.a.createElement(i.a,{maxWidth:"lg",style:{marginTop:16}},r.a.createElement(ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.e87943d2.chunk.js.map